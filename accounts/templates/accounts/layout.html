<!DOCTYPE html>

<html lang="en">

    <head>
        {% load static %}
        <meta name="viewport" content="initial-scale=1, width=device-width">
        <!-- Main stylesheet -->
        <link rel="stylesheet" href="{% static 'accounts/style.css' %}">
        <!-- Icon -->
        <link rel="icon" type="image/x-icon" href="{% static 'accounts/images/logo_icon.png'%}">

        <!-- Bootstrap | style / script & Popper & JQuery -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        
        {% block link %} {% endblock link %}
        
        <title>{% block title %}{% endblock title %} | Finlog</title>

        {% block style %}{% endblock style %}

    </head>

    <body>
        <header>
        
        <nav class="navbar navbar-expand-md">
            <div class="container-fluid">
                <a class="navbar-brand" href="/">
                    <img src="{% static 'accounts/images/logo.png'%}" width="110" height="55"/>
                </a>
                <button aria-controls="navbar"
                        aria-expanded="false"
                        aria-label="Toggle navigation"
                        class="navbar-toggler"
                        data-bs-target="#navbar"
                        data-bs-toggle="collapse"
                        type="button">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbar">
                    {% if request.path == '/' %}
                        <ul class="navbar-nav">
                            <!-- Title -->
                            <li class="nav-item" >
                                <h1 class="header" style="margin-right: 1rem;">Finlog of: {{user}}</h1>
                            </li>

                        </ul>
                        <ul class="navbar-nav">
                        </ul>
                        <!-- Right part-->
                        <ul class="navbar-nav ms-auto">
                            <!-- Categories -->
                            <li class="nav-item">
                                <a class="nav-link" href="" data-bs-toggle="modal" data-bs-target="#categoriesModal">
                                    <img class="icon_button_nav" src="{% static 'log/icons/palette.svg'%}">
                                    Categories
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="" data-bs-toggle="modal" data-bs-target="#settingsModal">
                                    <img class="icon_button_nav" src="{% static 'log/icons/gear.svg'%}">
                                    Settings
                                </a>
                            </li>
                            <!-- Exit-->
                            <li class="nav-item">
                                <a class="nav-link" href="/logout">
                                    <img class="icon_button_nav" src="{% static 'log/icons/exit.png'%}">
                                    Log Out
                                </a>
                            </li>

                        </ul>
                    {% endif %}
                    <!-- For unauthorized user -->
                    {% if request.path == '/login' or request.path == '/register' %}
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item" >
                            <h1 class="header" style="margin-right: 1rem;">Finlog 
                                {% if request.path == '/login' %}
                                login:
                                {% endif %}
                                {% if request.path == '/register' %}
                                register: 
                                {% endif%}
                            </h1>
                        </li>
                    </ul>

                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="/register">
                                <img class="icon_button_nav" src="{% static 'log/icons/register.svg'%}">
                                Register
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/login">
                                <img class="icon_button_nav" src="{% static 'log/icons/login.svg'%}">
                                Log In
                            </a>
                        </li>
                    </ul>
                    {% endif %}
                    <!-- Github -->
                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/RomanchenkoAS">
                            <img class="icon_button_nav" src="{% static 'log/icons/github.svg'%}">
                            
                        </a>
                    </li>
                </div>
            </div>
        </nav>





        {% if messages_list %}
            {% for message in messages_list %}
                <header>
                    <div class="alert alert-primary text-center message {{message.tags}}" role="alert">
                        {{message}}
                    <button type="button" class="btn close" data-dismiss="alert">
                        <span>&times;</span>
                    </button>
                    </div>
                </header>
            {% endfor %}
        {% endif %}

        {% block header %}{% endblock header %}
    </header>
    {% block body %}{% endblock body %}
</body>



    {% block script %} {% endblock script %}

    <script>
        /* Message close button */
        $(document).ready(function() {
            $(".close").click(function() {
              $(this).parent().hide();
            });
          });               
    </script>

</html>
